{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingsView.js\";\nimport React from \"react\";\nimport Cookie from \"js-cookie\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nimport axios from \"axios\";\n\nclass BookingsView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: Cookie.get('jwt'),\n      loading: true\n    };\n  }\n\n  componentWillMount(props) {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var bookings, singleBooking;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            bookings = [];\n\n            _this.setState({\n              loading: true\n            });\n\n            axios.get(\"https://strapi.luis-backt-und-kocht.de/bookings\").then(response => {\n              console.log(\"RESPONSE\", response);\n\n              _this.setState({\n                data: response.data\n              });\n\n              _this.state.data.forEach(booking => {\n                console.log(\"ForEach\", booking.user.username);\n\n                if (booking.user.username === _this.props.user) {\n                  bookings.push(booking);\n                }\n\n                console.log(\"Push\", bookings);\n              });\n\n              bookings.map(booking => (console.log(\"SingleBooking\", booking, _this.state.loading), singleBooking = booking.trip.title));\n              console.log(\"BOOKINGCODE\", singleBooking, _this.state.loading);\n              let testVar = singleBooking;\n              console.log(\"TESTVar\", testVar);\n\n              _this.setState({\n                loading: false\n              });\n            }).catch(error => {\n              // Handle error.\n              console.log('Buchungsfehler occurred:', error);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  render() {\n    let test = singleBooking;\n    {\n      this.state.loading ? console.log(\"Render lädt\") : console.log(\"REnder\", this.state.loading, test);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"Meine Buchung \", this.state.loading ? console.log(\"BookingView ldt\") : console.log(\"BOOKINGS\", this.singleBooking)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box has-background-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 16\n      }\n    }, \"Zefix \", this.singleBooking, this.props.user));\n  }\n\n}\n\nexport default BookingsView;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingsView.js"],"names":["React","Cookie","Strapi","axios","BookingsView","Component","constructor","props","state","token","get","loading","componentWillMount","bookings","setState","then","response","console","log","data","forEach","booking","user","username","push","map","singleBooking","trip","title","testVar","catch","error","render","test"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Cookie from \"js-cookie\";\nimport Strapi from \"strapi-sdk-javascript/build/main\"\nimport axios from \"axios\"\n\n\n\nclass BookingsView extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            token: Cookie.get('jwt'),\n            loading: true\n        }\n    }\n    \n\n   async componentWillMount(props) {\n        let bookings = []\n        let singleBooking\n        this.setState({loading: true})\n        axios\n            .get(\"https://strapi.luis-backt-und-kocht.de/bookings\")\n            .then(response => {\n                console.log(\"RESPONSE\", response)\n                this.setState({ data: response.data})\n                this.state.data.forEach((booking) => {\n                  console.log(\"ForEach\", booking.user.username)\n                      if (booking.user.username === this.props.user) {\n                       bookings.push(booking) \n                    }\n                    console.log(\"Push\", bookings)\n                })\n                bookings.map(booking => (\n                   console.log(\"SingleBooking\", booking, this.state.loading),\n                singleBooking = booking.trip.title\n                 ))\n                 \n                 console.log(\"BOOKINGCODE\", singleBooking, this.state.loading)\n                 let testVar = singleBooking\n                 console.log(\"TESTVar\", testVar)\n                 this.setState({loading: false})\n            })\n            .catch(error => {\n                // Handle error.\n                console.log('Buchungsfehler occurred:', error);\n            });\n         \n        }\n    \n\n\n\n    render() {\n        let test = singleBooking\n\n        {this.state.loading ? console.log(\"Render lädt\") :console.log(\"REnder\", this.state.loading, test)}\n        return (\n            <div className=\"container\">\n                <div className=\"title\">Meine Buchung {this.state.loading ? console.log(\"BookingView ldt\") : console.log(\"BOOKINGS\", this.singleBooking)}</div>\n               <div className=\"box has-background-warning\">Zefix {this.singleBooking}{this.props.user}</div>\n            </div>\n\n        )\n    }\n}\n\nexport default BookingsView"]},"metadata":{},"sourceType":"module"}