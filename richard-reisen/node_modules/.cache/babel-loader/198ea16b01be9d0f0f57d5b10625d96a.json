{"ast":null,"code":"var _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/MeinKonto.js\";\nimport React from \"react\";\nimport BookingDetails from \"./booking/BookingDetails\";\nimport AccountAdress from \"./account/AccountAdress\";\nimport Companion from \"./booking/Companions\";\nimport BookingAddServices from \"./booking/BookingAddServices\";\nimport BookingButton from \"./booking/BookingButton\";\n\nclass MeinKonto extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      companions: false,\n      accountKeys: []\n    };\n  }\n\n  componentWillMount() {// console.log(\"Props\", this.props)\n    // console.log(\"MeinKontoKeys\", localStorage.getItem(\"keys\"))\n    // console.log(\"MeinKonto\", localStorage.getItem(\"username\"))\n    //  let localStorageKeys = []\n    //   localStorageKeys.push(localStorage.getItem(\"keys\").split(\",\"))\n    //   localStorageKeys.push(localStorage.getItem(\"cartKeys\").split(\",\"))\n    //let temp = localStorageKeys.split(\",\")\n    //console.log(\"LOCALSTORAGEKEYS\", localStorageKeys)\n    //   for (let o = 0; o < localStorageKeys.length; o++) {\n    //    for (let i =0; i < localStorageKeys[o].length; i++) {\n    // console.log(\"Key für Storage\", localStorageKeys[o][i])\n    //  console.log(\"From Storagekeys\", localStorage.getItem(localStorageKeys[o][i]))\n    //       let key = localStorageKeys[o][i]\n    //       let value = localStorage.getItem(localStorageKeys[o][i])\n    //       this.setState({\n    //           [key] : value\n    //       })\n    //    }\n    //}\n    // set the data in state and use it through the component\n    //localStorage.clear();\n    // removing the data from localStorage.  Since if user clicks for another invoice it overrides this data\n  }\n\n  componentDidMount() {\n    console.log(\"Token\", this.props);\n    let regex = new RegExp(\"(trip_)\");\n    let stateKeys = [];\n    let bookingKeys = [];\n    let personalKeys = [];\n    Object.keys(this.state).map(n => stateKeys.push(n)); // console.log(\"StateCheck\", stateKeys)\n\n    for (let i = 0; i < stateKeys.length; i++) {\n      if (regex.test(stateKeys[i])) {\n        bookingKeys.push(stateKeys[i]);\n      } else {\n        personalKeys.push(stateKeys[i]);\n      }\n    }\n\n    this.setState({\n      accountKeys: {\n        stateKeys\n      }\n    });\n\n    if (this.state.trip_adults > 1 || this.state.trip_kids > 0) {\n      this.setState({\n        companions: true,\n        token: this.props.token\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, \"Meine Buchung\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        padding: \"2em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Hallo \", this.state.username, \"!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, \"Meine pers\\xF6nlichen Daten\"), /*#__PURE__*/React.createElement(AccountAdress, {\n      data: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }), this.state.companions ? /*#__PURE__*/React.createElement(Companion, {\n      kids: this.state.trip_kids,\n      adults: this.state.trip_adults,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-shadowless has-background-white\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    })), this.state.trip_id ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: \"relative\"\n      },\n      className: \"is-hidden-touch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column box has-background-primary \",\n      style: {\n        position: \"fixed\",\n        right: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(BookingButton, {\n      booking: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 122\n      }\n    }), /*#__PURE__*/React.createElement(BookingDetails, {\n      booking: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 159\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: \"relative\"\n      },\n      className: \"is-hidden-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column box has-background-primary \",\n      style: {\n        position: \"fixed\",\n        right: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(BookingButton, {\n      booking: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 122\n      }\n    }), /*#__PURE__*/React.createElement(BookingDetails, {\n      booking: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 159\n      }\n    })))) : \"\")));\n  }\n\n}\n\nexport default MeinKonto;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/MeinKonto.js"],"names":["React","BookingDetails","AccountAdress","Companion","BookingAddServices","BookingButton","MeinKonto","Component","constructor","state","companions","accountKeys","componentWillMount","componentDidMount","console","log","props","regex","RegExp","stateKeys","bookingKeys","personalKeys","Object","keys","map","n","push","i","length","test","setState","trip_adults","trip_kids","token","render","padding","username","marginTop","trip_id","position","right"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport BookingDetails from \"./booking/BookingDetails\"\nimport AccountAdress from \"./account/AccountAdress\"\nimport Companion from \"./booking/Companions\"\nimport BookingAddServices from \"./booking/BookingAddServices\"\nimport BookingButton from \"./booking/BookingButton\"\n\nclass MeinKonto extends React.Component {\n   constructor() {\n        super()\n    }\n    state = {\n        companions: false,\n        accountKeys: []\n    }\n    \n   componentWillMount() {\n       // console.log(\"Props\", this.props)\n       // console.log(\"MeinKontoKeys\", localStorage.getItem(\"keys\"))\n       // console.log(\"MeinKonto\", localStorage.getItem(\"username\"))\n     //  let localStorageKeys = []\n     //   localStorageKeys.push(localStorage.getItem(\"keys\").split(\",\"))\n     //   localStorageKeys.push(localStorage.getItem(\"cartKeys\").split(\",\"))\n        //let temp = localStorageKeys.split(\",\")\n       //console.log(\"LOCALSTORAGEKEYS\", localStorageKeys)\n       \n    //   for (let o = 0; o < localStorageKeys.length; o++) {\n        \n    //    for (let i =0; i < localStorageKeys[o].length; i++) {\n           // console.log(\"Key für Storage\", localStorageKeys[o][i])\n          //  console.log(\"From Storagekeys\", localStorage.getItem(localStorageKeys[o][i]))\n     //       let key = localStorageKeys[o][i]\n     //       let value = localStorage.getItem(localStorageKeys[o][i])\n     //       this.setState({\n     //           [key] : value\n     //       })\n            \n    //    }\n    //}\n        // set the data in state and use it through the component\n        //localStorage.clear();\n        // removing the data from localStorage.  Since if user clicks for another invoice it overrides this data\n     }\n\n    componentDidMount() {\n        console.log(\"Token\", this.props)\n        let regex = new RegExp (\"(trip_)\")\n        let stateKeys = []\n        let bookingKeys = []\n        let personalKeys =[]\n        Object.keys(this.state).map((n)=> stateKeys.push(n))\n       // console.log(\"StateCheck\", stateKeys)\n        for (let i = 0; i < stateKeys.length; i++) {\n            if (regex.test(stateKeys[i])) {\n                bookingKeys.push(stateKeys[i])\n            } else {\n                personalKeys.push(stateKeys[i])\n            }\n        }\n        this.setState ({\n            accountKeys: {stateKeys}\n        })\n\n        if (this.state.trip_adults >1 || this.state.trip_kids > 0) {\n            this.setState ({\n                companions: true,\n                token: this.props.token\n            })\n\n        }\n\n        \n    }\n    \n    render() {\n       \n    \n        return (\n            <div className=\"container is-fluid\">\n                <div className=\"box\">\n                    <h1 className=\"title\">Meine Buchung</h1>\n                    {}\n                    <p style={{padding:\"2em\"}}>Hallo {this.state.username}!</p>\n                    <div className=\"columns\">\n                        <div className=\"column is-two-thirds\">\n                            <h3>Meine persönlichen Daten</h3>\n                            <AccountAdress data={this.state} />\n                            \n                            {this.state.companions ? \n                                <Companion kids={this.state.trip_kids} adults={this.state.trip_adults}/>\n                                : \n                                <div className=\"box is-shadowless has-background-white\" style={{marginTop:\"1em\"}}></div> }\n                                                     \n                            </div>\n                            {this.state.trip_id ?\n                            <div>\n                            \n                            <div style={{position:\"relative\"}} className=\"is-hidden-touch\">\n                            <div className=\"column box has-background-primary \" style={{position:\"fixed\", right:\"auto\"}}><BookingButton booking={this.state}/><BookingDetails booking={this.state}/></div>\n                            </div>\n                            <div style={{position:\"relative\"}} className=\"is-hidden-desktop\">\n                            <div className=\"column box has-background-primary \" style={{position:\"fixed\", right:\"auto\"}}><BookingButton booking={this.state}/><BookingDetails booking={this.state}/></div>\n                            </div>\n                            </div>\n                            : \"\"}\n                     \n                                              \n                    </div>\n                </div>\n        </div>\n        )\n    }\n   \n}\n\nexport default MeinKonto"]},"metadata":{},"sourceType":"module"}