{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/cart/ShoppingCart.js\";\nimport React from \"react\";\nimport { FaBackspace } from \"react-icons/fa\";\nimport CartCustomer from \"./CartCustomer\";\nimport { setCart, getCart, getToken } from \"../utils\";\nimport { Link } from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript\";\nimport Cookie from \"js-cookie\";\nimport bulmaAccordion from \"bulma-extensions/bulma-accordion/dist/js/bulma-accordion.min.js\";\nconst apiUrl = 'https://strapi.luis-backt-und-kocht.de'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl);\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      booking: false,\n      persist: false,\n      items: [],\n      token: \"\"\n    };\n    this.handleBooking = this.handleBooking.bind(this);\n  }\n\n  componentWillMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _this.setState({\n              loading: false,\n              items: getCart(),\n              token: Cookie.get('jwt')\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  handleBooking(event) {\n    this.setState({\n      booking: true\n    }); //console.log(\"Booking!\", this.state.booking)\n\n    document.getElementById(\"bookingButton\").style.display = \"none\";\n    document.getElementById(\"bookingAblauf\").style.display = \"block\";\n  }\n\n  render() {\n    var accordions = bulmaAccordion.attach();\n    console.log(\"ShoppingCART\", this.state);\n    {\n      this.state.loading ? console.log(\"Laden\") : // let tripId = this.state.trip.id\n      // localStorage.setItem(\"tripId\", \"test\")\n      console.log(\"LINK_PROPS\", this.state);\n      var totalAdult = this.state.items.adults * this.state.items.trip.priceAdult;\n      const _this$state$items = this.state.items,\n            kids = _this$state$items.kids,\n            adults = _this$state$items.adults;\n      const _this$state$items$tri = this.state.items.trip,\n            priceAdult = _this$state$items$tri.priceAdult,\n            priceReduced = _this$state$items$tri.priceReduced,\n            title = _this$state$items$tri.title;\n      var totalKids = kids * this.state.items.trip.priceReduced;\n      var grandTotal = totalKids + totalAdult;\n      const selectedTripDate = this.state.items.tripDate;\n      const dates = this.state.items.trip.trip_dates;\n      console.log(\"SelectedTripDate\", selectedTripDate);\n      console.log(\"Dates\", dates.length); //  console.log(\"Const Dates\", dates)\n\n      var bookedDate;\n\n      for (let i = 0; i < dates.length; i++) {\n        console.log(\"DATES_FOR\", dates[i].id, selectedTripDate); //bookedDate =  dates.find(element => element.id === selectedTripDate)\n\n        if (dates[i].id != selectedTripDate) {} else {\n          bookedDate = dates[i];\n        }\n      }\n\n      var abreise = new Date(bookedDate.departure);\n      var abreiseJahr = abreise.getFullYear();\n      var abreiseMonat = abreise.getMonth() + 1;\n      var abreiseTag = abreise.getDate();\n      var returnDatum = new Date(bookedDate.return);\n      var returnJahr = returnDatum.getFullYear();\n      var returnMonat = returnDatum.getMonth() + 1;\n      var returnTag = returnDatum.getDate();\n      var tax = grandTotal / 100 * 16;\n      var tripPics = this.state.items.trip.pics.map(pic => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(apiUrl).concat(pic.url),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      })));\n    }\n    const accordionItinerary = this.state.items.trip.itinerary.map(day => /*#__PURE__*/React.createElement(\"article\", {\n      class: \"accordion is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"accordion-header toggle has-background-white has-text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, day.title)), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"accordion-body has-background-white\",\n      style: {\n        border: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"accordion-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, day.description)))); //   console.log(\"Finden\", dates.find(element => element.id === selectedTripDate))\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid has-text-centered\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, \"25% gebucht\", /*#__PURE__*/React.createElement(\"progress\", {\n      className: \"progress is-primary is-small\",\n      value: \"25\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"25%\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      style: {\n        marginTop: \"3em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"Ihre Reisebuchung\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-halfwidth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-fullwidth is-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, \"Reise\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, \"Abreise\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, \"R\\xFCckreise\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, abreiseTag, \".\", abreiseMonat, \".\", abreiseJahr), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, returnTag, \".\", returnMonat, \".\", returnJahr)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 29\n      }\n    }, \"Ihre Reise:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 47\n      }\n    }), this.state.items.trip.short_description, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }), \"Reiseablauf:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"accordions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    }, accordionItinerary)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, tripPics))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-hidden-mobile\",\n      id: \"bookingAblauf\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"has-text-weight-semibold is-family-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 32\n      }\n    }, \"Buchungsablauf\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 36\n      }\n    }, \"Melden Sie sich an oder legen Sie ein neues Kundenkonto an.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, \"Geben Sie die Daten Ihrer Mitreisenden an und pr\\xFCfen Sie Ihre eigenen Daten\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 37\n      }\n    }, \"W\\xE4hlen Sie Ihre gew\\xFCnschte Zahlungsart\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }\n    }, \"Im Anschluss an die Bestellung erhalten Sie eine Bestellbest\\xE4tigung per Email\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, \"Etwas sp\\xE4ter erhalten Sie Ihre Reiseunterlagen ebenfalls per Email\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-halfwidth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-fullwidth is-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }, \"Reisende\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Preis pro Person\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, \"Gesamt\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, this.state.items.adults, \" Erwachsene(r)\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.priceAdult, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }, totalAdult, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaBackspace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 29\n      }\n    }))), this.state.items.kids > 0 && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 55\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }, this.state.items.kids, \" Kinder \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.priceReduced, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, totalKids, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaBackspace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-striped is-narrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    }, \"Ihr Reisepreis\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }, grandTotal, \" \\u20AC\")), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 37\n      }\n    }, \"inkl. der gesetzl. MwSt.\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 37\n      }\n    }, tax.toFixed(2), \" \\u20AC\"))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 27\n      }\n    }), this.state.token ? /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/meine-buchung\",\n        state: {\n          booking: this.state\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-primary mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 98\n      }\n    }, \"Buchen\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleBooking,\n      className: \"button is-primary mb-4\",\n      id: \"bookingButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 27\n      }\n    }, \"Jetzt buchen\"), /*#__PURE__*/React.createElement(CartCustomer, {\n      className: \"has-background-black\",\n      show: this.state.booking,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 27\n      }\n    })))))));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/cart/ShoppingCart.js"],"names":["React","FaBackspace","CartCustomer","setCart","getCart","getToken","Link","Strapi","Cookie","bulmaAccordion","apiUrl","strapi","ShoppingCart","Component","constructor","state","loading","booking","persist","items","token","handleBooking","bind","componentWillMount","setState","get","event","document","getElementById","style","display","render","accordions","attach","console","log","totalAdult","adults","trip","priceAdult","kids","priceReduced","title","totalKids","grandTotal","selectedTripDate","tripDate","dates","trip_dates","length","bookedDate","i","id","abreise","Date","departure","abreiseJahr","getFullYear","abreiseMonat","getMonth","abreiseTag","getDate","returnDatum","return","returnJahr","returnMonat","returnTag","tax","tripPics","pics","map","pic","url","accordionItinerary","itinerary","day","border","description","marginTop","name","short_description","paddingTop","justifyContent","toFixed","pathname"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {FaBackspace} from \"react-icons/fa\"\nimport CartCustomer from\"./CartCustomer\"\nimport {setCart, getCart, getToken } from \"../utils\";\nimport {Link} from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript\";\nimport Cookie from \"js-cookie\";\nimport bulmaAccordion from \"bulma-extensions/bulma-accordion/dist/js/bulma-accordion.min.js\"\n\nconst apiUrl= 'https://strapi.luis-backt-und-kocht.de';\n//const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\nconst strapi = new Strapi(apiUrl)\n\nclass ShoppingCart extends React.Component {\n\n  constructor() {\n        super();\n        this.state = {\n            loading:false,\n            booking: false,\n            persist: false,\n            items: [],\n            token: \"\"\n        }\n        this.handleBooking = this.handleBooking.bind(this)\n    }\n\n   async componentWillMount() {\n        await this.setState({\n            loading:false,\n            items: getCart(),\n            token: Cookie.get('jwt')\n        })\n  \n    }\n\n   \n\n    handleBooking(event) {\n        this.setState({\n            booking: true\n            \n        })\n        //console.log(\"Booking!\", this.state.booking)\n        document.getElementById(\"bookingButton\").style.display =\"none\"\n        document.getElementById(\"bookingAblauf\").style.display =\"block\"\n\n    }\n\n \n\n    render(){\n        var accordions = bulmaAccordion.attach();\n        console.log(\"ShoppingCART\", this.state)\n        {this.state.loading ?\n        console.log(\"Laden\") : \n       // let tripId = this.state.trip.id\n       // localStorage.setItem(\"tripId\", \"test\")\n       console.log(\"LINK_PROPS\", this.state)\n        var totalAdult = this.state.items.adults * this.state.items.trip.priceAdult\n        const {kids, adults} = this.state.items\n        const {priceAdult, priceReduced, title} = this.state.items.trip\n        var totalKids = kids * this.state.items.trip.priceReduced\n        var grandTotal = totalKids + totalAdult\n        const selectedTripDate = this.state.items.tripDate\n        const dates = this.state.items.trip.trip_dates\n       console.log(\"SelectedTripDate\", selectedTripDate)\n       console.log(\"Dates\", dates.length)\n      //  console.log(\"Const Dates\", dates)\n        var bookedDate;\n        for ( let i=0; i < dates.length; i++) {\n            console.log(\"DATES_FOR\", dates[i].id, selectedTripDate)\n            //bookedDate =  dates.find(element => element.id === selectedTripDate)\n            if (dates[i].id != selectedTripDate){\n                \n            } else {\n                bookedDate = dates[i]\n            }\n            \n        }\n        var abreise = new Date(bookedDate.departure)\n        var abreiseJahr = abreise.getFullYear()\n        var abreiseMonat = abreise.getMonth()+1\n        var abreiseTag = abreise.getDate()\n        var    returnDatum = new Date(bookedDate.return)\n        var    returnJahr = returnDatum.getFullYear()\n        var    returnMonat = returnDatum.getMonth()+1\n        var    returnTag = returnDatum.getDate()\n        var tax = grandTotal/100*16\n\n        var tripPics = this.state.items.trip.pics.map(pic => (\n            <div>\n            <img src={`${apiUrl}${pic.url}`} />\n            </div>\n        ))\n    }\n\n        const accordionItinerary = this.state.items.trip.itinerary.map(day => (\n            <article class=\"accordion is-size-7\">\n                        <div class=\"accordion-header toggle has-background-white has-text-black\">\n                        <p>{day.title}</p>\n                        </div>\n                        <div class=\"accordion-body has-background-white\" style={{border:\"0px\"}}>\n                        <div class=\"accordion-content\">\n                            {day.description}\n                        </div>\n                        </div>\n            </article>\n        ))\n\n     //   console.log(\"Finden\", dates.find(element => element.id === selectedTripDate))\n        return (\n           \n            <div className=\"container is-fluid\">\n               \n                <div className=\"box\" style={{marginTop:\"1em\"}}>\n                    <div className=\"container is-fluid has-text-centered\" style={{marginTop:\"1em\"}}>\n                        <div className=\"columns\">\n                            <div className=\"column is-one-third\"></div>\n                            <div className=\"column is-one-third\">\n                                25% gebucht\n                    <progress className=\"progress is-primary is-small\" value=\"25\" max=\"100\">25%</progress>\n                    </div>\n                    <div className=\"column is-one-third\"></div>\n                    </div>\n                    </div>\n                <div className=\"container is-fluid\" style={{marginTop:\"3em\"}}>\n                <div className=\"title\">\n                Ihre Reisebuchung\n                </div>\n                  <div className=\"columns\">\n                    <div className=\"column is-halfwidth\">\n                        <table className=\"table is-fullwidth is-striped\">\n                        <thead>\n                        <tr>\n                        <th>Reise</th>\n                        <th>Abreise</th>\n                        <th>Rückreise</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr>\n                        <td>{this.state.items.trip.name}</td>\n                        <td>{abreiseTag}.{abreiseMonat}.{abreiseJahr}</td>\n                        <td>{returnTag}.{returnMonat}.{returnJahr}</td>\n                        </tr>\n                        </tbody>\n                        </table>\n                        <div className=\"box\">\n                        <div className=\"columns\">\n                            <div className=\"column is-two-thirds\">\n                            <b>Ihre Reise:</b><br />\n                                {this.state.items.trip.short_description}\n                                <br />\n                                <br />\n                                Reiseablauf:\n                                <br />\n                                <br />\n                                <section className=\"accordions\">\n                                  {accordionItinerary}\n                                </section>\n                            </div>\n                            <div className=\"column\">\n                                {tripPics}\n                            </div>\n                        </div>\n                        </div>\n                        <div style={{paddingTop:\"1em\"}}>\n                            <div className=\"box is-hidden-mobile\" id=\"bookingAblauf\" style={{display:\"none\"}}>\n                               <h3 className=\"has-text-weight-semibold is-family-secondary\">Buchungsablauf</h3>\n                               <ul className=\"is-size-7\">\n                                   <li>Melden Sie sich an oder legen Sie ein neues Kundenkonto an.</li>\n                                    <li>Geben Sie die Daten Ihrer Mitreisenden an und prüfen Sie Ihre eigenen Daten</li>\n                                    <li>Wählen Sie Ihre gewünschte Zahlungsart</li>\n                                    <li>Im Anschluss an die Bestellung erhalten Sie eine Bestellbestätigung per Email</li>\n                                    <li>Etwas später erhalten Sie Ihre Reiseunterlagen ebenfalls per Email</li> \n                                </ul>\n                            </div>\n                        </div>\n                </div>\n                <div className=\"column is-halfwidth\">\n                <table className=\"table is-fullwidth is-striped\">\n                    <thead>\n                    <tr>\n                    <th>Reisende</th>\n                    <th>Preis pro Person</th>\n                    <th>Gesamt</th>\n                    <th></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        <tr>    \n                        <td>{this.state.items.adults} Erwachsene(r)</td>\n                        <td>{this.state.items.trip.priceAdult} €</td>\n                        <td>{totalAdult} €</td>\n                        <td><FaBackspace /></td>\n                        </tr>\n                        {this.state.items.kids > 0 && <tr >    \n        <td>{this.state.items.kids} Kinder </td>\n                        <td>{this.state.items.trip.priceReduced} €</td>\n                        <td>{totalKids} €</td>\n                        <td><FaBackspace /></td>\n                        </tr>\n    }\n                    </tbody>\n                </table>\n              \n                  \n                            <div style={{display:\"flex\", justifyContent:\"flex-end\"}}>\n                            <table className=\"table is-striped is-narrow\">\n                            <thead>\n                            <tr>\n                            <th></th>\n                            <th>Ihr Reisepreis</th>\n                            </tr>\n                            </thead>\n                                <tbody>\n                                <tr>\n                                <td></td>\n                                <td>{grandTotal} €</td>\n                                </tr>\n                                <tr className=\"is-size-7\">\n                                    <td>inkl. der gesetzl. MwSt.</td>\n                                    <td>{tax.toFixed(2)} €</td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        \n                            \n                          </div>\n                          <br />\n                          {this.state.token ?\n                          <Link to={{ pathname: \"/meine-buchung\", state: {booking: this.state}}}><button className=\"button is-primary mb-4\">Buchen</button></Link>\n                          :\n                          <div>\n                          <button onClick={this.handleBooking} className=\"button is-primary mb-4\" id=\"bookingButton\">Jetzt buchen</button>\n                          <CartCustomer className=\"has-background-black\" show={this.state.booking}/>\n                          </div>\n                            }       \n                          </div>\n                          </div>\n                          \n                          \n                          \n                          \n                       </div>\n                       </div>  \n            </div>\n        )\n    }\n\n}\n\nexport default ShoppingCart"]},"metadata":{},"sourceType":"module"}