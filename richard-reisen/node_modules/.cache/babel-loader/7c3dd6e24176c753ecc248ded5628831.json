{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingOverview.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport AccountAdress from \"../account/AccountAdress\";\nimport Companions from \"./Companions\";\nimport { setCart, getCart, getToken } from \"../utils\";\n\nclass BookingOverview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      loading: true,\n      countPax\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _this.setState({\n              token: Cookie.get('jwt'),\n              items: getCart()\n            });\n\n          case 2:\n            if (_this.state.token !== null) {\n              // authenticate the token on the server and place set user object\n              fetch('https://strapi.luis-backt-und-kocht.de/users/me', {\n                headers: {\n                  Authorization: \"Bearer \".concat(_this.state.token)\n                }\n              }).then( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n                  var userData;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return res.json();\n\n                      case 2:\n                        userData = _context.sent;\n                        console.log(\"ANtwor for MEE\", userData);\n                        _context.next = 6;\n                        return _this.setState({\n                          user: userData\n                        });\n\n                      case 6:\n                        console.log(\"USERDATASTATE\", _this.state);\n\n                        _this.setState({\n                          loading: false\n                        });\n\n                      case 8:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }());\n            }\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n\n  render() {\n    {\n      this.state.loading ? \"\" : console.log(\"Items Overview\", this.state.items.adults);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, \"Ihre Buchungs\\xFCbersicht\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, this.state.loading ? \"\" : /*#__PURE__*/React.createElement(AccountAdress, {\n      data: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 56\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-shadowless has-background-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 33\n      }\n    }, \"BUCHUNG\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-shadowless\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, this.countPax > 1 ? /*#__PURE__*/React.createElement(Companions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 42\n      }\n    }) : \"\"))));\n  }\n\n}\n\nexport default BookingOverview;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingOverview.js"],"names":["React","axios","Cookie","AccountAdress","Companions","setCart","getCart","getToken","BookingOverview","Component","constructor","props","state","user","loading","countPax","componentDidMount","setState","token","get","items","fetch","headers","Authorization","then","res","json","userData","console","log","render","adults","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport AccountAdress from \"../account/AccountAdress\"\nimport Companions from \"./Companions\"\nimport {setCart, getCart, getToken } from \"../utils\";\n\nclass BookingOverview extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n                user: null,\n                loading: true,\n                countPax\n        }\n    }\n\n    async componentDidMount() {\n        \n        await this.setState({\n            token: Cookie.get('jwt'), \n            items: getCart(),\n            \n        })\n        if (this.state.token !== null) {\n            // authenticate the token on the server and place set user object\n            fetch('https://strapi.luis-backt-und-kocht.de/users/me', {\n              headers: {\n                Authorization: `Bearer ${this.state.token}`,\n              },\n            }).then(async (res) => {\n                const userData = await res.json()\n                console.log(\"ANtwor for MEE\", userData)\n                await this.setState({\n                    user: userData,\n                    \n                })\n                console.log(\"USERDATASTATE\", this.state)\n                \n                this.setState({\n                    loading:false\n                })\n               \n    })}\n    \n\n}\n\n    render() {\n        \n        {this.state.loading ? \"\" : console.log(\"Items Overview\", this.state.items.adults\n        )}\n        return (\n            <div className=\"container\">\n                <div className=\"box\" style={{marginTop:\"1em\"}}>\n                    <div className=\"title\">Ihre Buchungsübersicht</div>\n                    <div className=\"container\">\n                        <div className=\"columns\">\n                            <div className=\"column is-two-thirds\">\n                            {this.state.loading ? \"\" : <AccountAdress data={this.state.user} />}\n                            </div>\n                            <div className=\"column\">\n                                <div className=\"box is-shadowless has-background-primary\">\n                                    BUCHUNG\n                                </div>\n                            </div>\n                        </div>\n                    <div className=\"box is-shadowless\">\n                    {this.countPax > 1 ? <Companions /> : \"\"}\n                    </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BookingOverview"]},"metadata":{},"sourceType":"module"}