{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/App.js\";\nimport React from \"react\";\nimport \"./App.sass\";\nimport \"./styles.css\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Cookie from \"js-cookie\";\nimport { setCart, getCart, getToken } from \"./components/utils\";\nimport { AuthNav, UnAuthNav } from \"./components/NavBar\";\nimport NavBar from \"./components/NavBar_OLD\";\nimport TripCard from \"./components/TripCard\";\nimport Hero from \"./components/Hero\";\nimport Pagination from \"./components/Pagination\";\nimport FilterTrips from \"./components/FilterTrips\";\nimport { FaTrophy } from \"react-icons/fa\";\nimport TripsDetail from \"./components/TripsDetail\";\nimport Reisen from \"./components/pages/Reisen\";\nimport Offers from \"./components/pages/Offers\";\nimport Buchung from \"./components/pages/Buchung\";\nimport Kontakt from \"./components/pages/Kontakt\";\nimport LastMinute from \"./components/pages/LastMinute\";\nimport ShoppingCart from \"./components/cart/ShoppingCart\";\nimport AuthPage from './components/containers/AuthPage';\nimport ConnectPage from './components/containers/ConnectPage';\nimport HomePage from './components/containers/HomePage';\nimport NotFoundPage from './components/containers/NotFoundPage';\nimport PrivateRoute from './components/containers/PrivateRoute';\nimport MeinKonto from './components/MeinKonto';\nimport Register from './components/cart/Register';\nimport SignUpIn from './components/cart/SignUpIN';\nimport AccountAdress from \"./components/account/AccountAdress\";\nimport BookingOverview from \"./components/booking/BookingOverview\";\nimport BookingsView from \"./components/booking/BookingsView\";\nimport Payment from \"./components/booking/Payment\"; //import MeinKonto from \"./components/MeinKonto\"\n\nconst apiUrl = 'https://strapi.luis-backt-und-kocht.de'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl); //console.log(\"URL\", apiUrl)\n//console.log(\"strapi\", strapi+'/graphql')\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trips: [],\n      loading: true,\n      token: \"\",\n      cart: [],\n      filter: 0,\n      filteredTrips: [],\n      filtered: false\n    };\n    this.handler = this.handler.bind(this);\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            /*const response = await strapi.request('POST', '/graphql', {\n              data: {\n                query: `query { trips {\n                    title\n                    id\n            trip_dates {\n            departure\n            return\n            }\n            short_description\n            long_description\n            pics {\n            name\n            url\n            }\n            priceAdult\n            priceReduced\n            flags {\n            flagName\n            id\n            }\n            length\n            }}`\n              }\n             });*/\n            request = new XMLHttpRequest();\n            _context.next = 4;\n            return fetch('https://strapi.luis-backt-und-kocht.de/trips').then(response => response.json());\n\n          case 4:\n            response = _context.sent;\n\n            //  console.log(\"response\", response)\n            _this.setState({\n              trips: response,\n              loading: false,\n              token: Cookie.get('jwt'),\n              cart: getCart('cart')\n            });\n\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n            ;\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 8]]);\n    }))();\n  }\n\n  handler(val) {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var filtering, filtered, i, x;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _this2.setState({\n              filter: val,\n              filtered: true\n            });\n\n          case 2:\n            console.log(\"Handler hat was gemacht\", _this2.state.filter);\n            console.log(\"State\", _this2.state);\n            filtered = [];\n\n            if (_this2.state.loading != true) {\n              if (_this2.state.filter > 0) {\n                for (i = 0; i < _this2.state.trips.length; i++) {\n                  for (x = 0; x < _this2.state.trips[i].flags.length; x++) {\n                    if (_this2.state.trips[i].flags[x].id === _this2.state.filter) {\n                      filtering = _this2.state.trips[x];\n                      console.log(\"Filtering-Test\", filtering);\n                    }\n                  }\n                }\n\n                filtered.push(filtering);\n              }\n            }\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n\n  render() {\n    console.log(\"FILTERING\", this.state.filteredTrips);\n    let tripCards;\n\n    if (this.state.filter === 0) {\n      tripCards = this.state.loading ? \"Loading...\" : this.state.trips.map(trip => /*#__PURE__*/React.createElement(TripCard, {\n        key: trip.id,\n        title: trip.title,\n        name: trip.tripName,\n        hero: \"\".concat(apiUrl).concat(trip.pics[0].url) //    hero={`https://strapi.luis.backt-und-kocht.de/${trip.pics[0].url}`\n        ,\n        desc: trip.short_description,\n        length: trip.length,\n        departure: trip.trip_dates[0].departure,\n        return: trip.trip_dates[0].return,\n        id: trip.id,\n        flag: trip.flags,\n        seats: trip.seats,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }));\n      console.log(\"OHNE FILTER\");\n    } else {\n      if (this.state.filtered === true) {\n        console.log(\"Gefilterte Reise vor der TripCArd\", this.state.filteredTrips);\n        tripCards = this.state.loading ? \"Loading...\" : this.state.filteredTrips.map(trip => /*#__PURE__*/React.createElement(TripCard, {\n          key: trip.id,\n          title: trip.title,\n          name: trip.tripName,\n          hero: \"\".concat(apiUrl).concat(trip.pics[0].url) //    hero={`https://strapi.luis.backt-und-kocht.de/${trip.pics[0].url}`\n          ,\n          desc: trip.short_description,\n          length: trip.length,\n          departure: trip.trip_dates[0].departure,\n          return: trip.trip_dates[0].return,\n          id: trip.id,\n          flag: trip.flags,\n          seats: trip.seats,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }\n        }));\n        console.log(\"MIT FILTER\", this.state.filteredTrips);\n      }\n    }\n\n    const filterTrips = this.state.loading ? \"Loading\" : /*#__PURE__*/React.createElement(FilterTrips, {\n      count: this.state.trips.length,\n      handler: this.handler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 58\n      }\n    });\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/reisen/:tripId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TripsDetail, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      path: \"/zahlung\",\n      component: Payment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/shopping-cart\",\n      component: ShoppingCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/mein-konto\",\n      component: MeinKonto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: SignUpIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/reisen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Reisen, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/angebote\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Offers, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      path: \"/last-minute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(LastMinute, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/informationen/buchung\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Buchung, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/meine-buchung\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BookingOverview, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Hero, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, filterTrips, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns is-multiline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, this.state.loading ? \"LÄDT\" : tripCards)), /*#__PURE__*/React.createElement(Pagination, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/App.js"],"names":["React","Strapi","BrowserRouter","Router","Switch","Route","Cookie","setCart","getCart","getToken","AuthNav","UnAuthNav","NavBar","TripCard","Hero","Pagination","FilterTrips","FaTrophy","TripsDetail","Reisen","Offers","Buchung","Kontakt","LastMinute","ShoppingCart","AuthPage","ConnectPage","HomePage","NotFoundPage","PrivateRoute","MeinKonto","Register","SignUpIn","AccountAdress","BookingOverview","BookingsView","Payment","apiUrl","strapi","App","Component","constructor","props","state","trips","loading","token","cart","filter","filteredTrips","filtered","handler","bind","componentDidMount","request","XMLHttpRequest","fetch","then","response","json","setState","get","console","error","val","log","i","length","x","flags","id","filtering","push","render","tripCards","map","trip","title","tripName","pics","url","short_description","trip_dates","departure","return","seats","filterTrips"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.sass\";\nimport \"./styles.css\";\nimport Strapi from \"strapi-sdk-javascript/build/main\"\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\"\nimport Cookie from \"js-cookie\";\n\n\n\n\nimport {setCart, getCart, getToken } from \"./components/utils\";\nimport {AuthNav, UnAuthNav} from \"./components/NavBar\";\nimport NavBar from \"./components/NavBar_OLD\";\nimport TripCard from \"./components/TripCard\";\nimport Hero from \"./components/Hero\";\nimport Pagination from \"./components/Pagination\";\nimport FilterTrips from \"./components/FilterTrips\";\nimport { FaTrophy } from \"react-icons/fa\";\nimport TripsDetail from \"./components/TripsDetail\"\nimport Reisen from \"./components/pages/Reisen\"\nimport Offers from \"./components/pages/Offers\"\nimport Buchung from \"./components/pages/Buchung\"\nimport Kontakt from \"./components/pages/Kontakt\"\nimport LastMinute from \"./components/pages/LastMinute\";\nimport ShoppingCart from \"./components/cart/ShoppingCart\"\nimport AuthPage from './components/containers/AuthPage';\nimport ConnectPage from './components/containers/ConnectPage';\nimport HomePage from './components/containers/HomePage';\nimport NotFoundPage from './components/containers/NotFoundPage';\nimport PrivateRoute from './components/containers/PrivateRoute';\nimport MeinKonto from './components/MeinKonto';\nimport Register from './components/cart/Register'\nimport SignUpIn from './components/cart/SignUpIN'\nimport AccountAdress from \"./components/account/AccountAdress\"\nimport BookingOverview from \"./components/booking/BookingOverview\"\nimport BookingsView from \"./components/booking/BookingsView\";\nimport Payment from \"./components/booking/Payment\"\n//import MeinKonto from \"./components/MeinKonto\"\n\n\nconst apiUrl= 'https://strapi.luis-backt-und-kocht.de';\n//const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\nconst strapi = new Strapi(apiUrl);\n//console.log(\"URL\", apiUrl)\n//console.log(\"strapi\", strapi+'/graphql')\n\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      trips : [],\n      loading: true,\n      token: \"\",\n      cart: [],\n      filter: 0,\n      filteredTrips: [],\n      filtered: false\n    }\n    this.handler = this.handler.bind(this)\n  }\n\n \n\n  async componentDidMount() {\n    try{\n        /*const response = await strapi.request('POST', '/graphql', {\n          data: {\n            query: `query { trips {\n                title\n                id\n  trip_dates {\n    departure\n    return\n  }\n  short_description\n  long_description\n  pics {\n    name\n    url\n  }\n  priceAdult\n  priceReduced\n  flags {\n      flagName\n      id\n  }\n  length\n}}`\n          }\n\n        });*/\n    var request = new XMLHttpRequest()\n    const response = await fetch('https://strapi.luis-backt-und-kocht.de/trips')\n     .then ((response) => response.json())\n    //  console.log(\"response\", response)\n        this.setState({ \n          trips: response,\n          loading: false,\n        token: Cookie.get('jwt'),\n      cart: getCart('cart')})\n    } catch(err) {\n      console.error(err) };\n\n    }\n  \n  async handler(val) {\n  await  this.setState({\n      filter: val,\n      filtered: true\n    })\n    console.log(\"Handler hat was gemacht\", this.state.filter)\n    console.log(\"State\", this.state)\n    let filtering\n    let filtered = []\n    if (this.state.loading != true) {\n      if (this.state.filter > 0 ) {\n      for (let i = 0; i < this.state.trips.length; i++) {\n        for (let x = 0; x < this.state.trips[i].flags.length; x++ ) {\n          if (this.state.trips[i].flags[x].id === this.state.filter) {\n           filtering = this.state.trips[x] \n           console.log(\"Filtering-Test\", filtering)\n          }\n        }\n      \n        }\n        filtered.push(filtering)\n        \n      }\n    }\n  }\n   \n  \n\n  render() {\n\n  \n\n    console.log(\"FILTERING\", this.state.filteredTrips)\n    let tripCards\n    if (this.state.filter === 0) {\n    tripCards = this.state.loading ? \"Loading...\" : this.state.trips.map(trip => (\n      <TripCard \n            key={trip.id}\n            title={trip.title} \n            name={trip.tripName}\n            hero={`${apiUrl}${trip.pics[0].url}`} \n        //    hero={`https://strapi.luis.backt-und-kocht.de/${trip.pics[0].url}`\n            desc={trip.short_description} \n            length={trip.length} \n            departure={trip.trip_dates[0].departure} \n            return={trip.trip_dates[0].return}\n            id={trip.id}\n            flag={trip.flags}\n            seats={trip.seats}/>\n    ))\n    console.log(\"OHNE FILTER\")\n    } else {\n      if (this.state.filtered === true) {\n        console.log(\"Gefilterte Reise vor der TripCArd\", this.state.filteredTrips)\n      tripCards = this.state.loading ? \"Loading...\" : this.state.filteredTrips.map(trip => (\n        <TripCard \n              key={trip.id}\n              title={trip.title} \n              name={trip.tripName}\n              hero={`${apiUrl}${trip.pics[0].url}`} \n          //    hero={`https://strapi.luis.backt-und-kocht.de/${trip.pics[0].url}`\n              desc={trip.short_description} \n              length={trip.length} \n              departure={trip.trip_dates[0].departure} \n              return={trip.trip_dates[0].return}\n              id={trip.id}\n              flag={trip.flags}\n              seats={trip.seats}/>\n      ))\n      console.log(\"MIT FILTER\", this.state.filteredTrips)\n      }\n    }\n\n    const filterTrips = this.state.loading ? \"Loading\" : <FilterTrips count={this.state.trips.length} handler = {this.handler}/>\n          return (\n            \n            <Router>  \n            \n            <div className=\"App\">\n             \n            <NavBar />\n            \n            <Switch>\n            \n                <Route path=\"/reisen/:tripId\" >\n                <div className=\"container is-fluid\">\n                    <TripsDetail />\n                </div>    \n                </Route>\n                <Route path=\"/zahlung\" component={ Payment } />\n                <Route path=\"/shopping-cart\" component={ ShoppingCart } />\n                <Route path=\"/mein-konto\" component={MeinKonto} />  \n                <Route path=\"/register\" component={ SignUpIn } />\n                 <Route exact path=\"/reisen\" >\n                <div className=\"container is-fluid\">\n                    <Reisen />\n                </div>    \n                </Route>\n                   <Route exact path=\"/angebote\" >\n                <div className=\"container is-fluid\">\n                    <Offers />\n                </div>    \n                </Route>\n               <Route path=\"/last-minute\" >\n                <div className=\"container is-fluid\">\n                    <LastMinute />\n                </div>    \n                </Route>\n                   <Route exact path=\"/informationen/buchung\" >\n                <div className=\"container is-fluid\">\n                    <Buchung />\n                </div>    \n                </Route>\n                <Route exact path=\"/meine-buchung\" >\n                <div className=\"container is-fluid\">\n                    <BookingOverview />\n                </div>   \n                </Route>\n               <Route exact path=\"/\" > \n               <Hero />\n              <br />\n              <div className=\"container is-fluid\">\n                {filterTrips}\n                <div className=\"columns is-multiline\">\n                {this.state.loading ? \"LÄDT\": tripCards}\n                 \n                   </div>\n               \n                </div>\n                <Pagination />\n                \n                </Route>\n                \n               </Switch>\n               \n            </div>\n            </Router>\n          );\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}