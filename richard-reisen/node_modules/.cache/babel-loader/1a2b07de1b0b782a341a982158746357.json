{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/TripsDetail.js\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nimport { withRouter } from \"react-router\";\nimport DetailHeroCarousel from \"./DetailCompononents/DetailHeroCarousel\";\nimport DetailStoerer from \"./DetailCompononents/DetailStoerer\";\nimport DetailServices from \"./DetailCompononents/DetailServices\";\nimport ItineraryCard from \"./DetailCompononents/ItineraryCard\";\nimport { Markdown } from \"react-showdown\";\nimport ReactMarkdown from \"react-markdown\";\nconst apiUrl = 'https://strapi.luis-backt-und-kocht.de'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl);\n\nclass TripsDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trip: [],\n      loading: true,\n      trip_id: \"\"\n    };\n  }\n\n  componentDidMount(props) {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch(\"https://strapi.luis-backt-und-kocht.de/trips/\".concat(_this.props.match.params.tripId)).then(response => response.json());\n\n          case 3:\n            response = _context.sent;\n            console.log(\"TripDEtail\", response);\n\n            _this.setState({\n              trip: response,\n              loading: false,\n              trip_id: _this.props.match.params.tripId\n            });\n\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n            ;\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 8]]);\n    }))();\n  }\n\n  handleClose(event) {\n    document.getElementById(event.target.id).classList.toggle(\"is-active\");\n  }\n\n  render() {\n    var longMarkdown = this.state.trip.long_description; // this.state.loading ? console.log(\"DetailState loading\") : console.log(\"DetailState\", this.state.trip)\n\n    var itinerary = this.state.loading ? null : this.state.trip.itinerary.map(day => /*#__PURE__*/React.createElement(ItineraryCard, {\n      key: day.id,\n      title: day.title,\n      description: day.description,\n      pics: day.itineraryPics,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }));\n    var heroPic = this.state.loading ? null : this.state.trip.pics.map(pic => //    console.log(\"TripPic\", pic.url, ),\n    pic.url);\n    var tripPic = this.state.loading ? null : this.state.trip.pics.map(pic =>\n    /*#__PURE__*/\n    //  console.log(\"TripPic\", pic.url ),\n    React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal is-clipped\",\n      id: pic.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\".concat(apiUrl).concat(pic.url),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"modal-close is-large\",\n      \"aria-label\": \"close\",\n      onClick: this.handleClose,\n      id: pic.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\".concat(apiUrl).concat(pic.url),\n      onClick: this.handleClose,\n      id: pic.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }\n    }))); //  console.log(\"HEroPic\", heroPic)    \n\n    var heroSlider = this.state.loading ? \"Loading\" : /*#__PURE__*/React.createElement(DetailHeroCarousel, {\n      images: heroPic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 59\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero has-background-white is-small \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, heroSlider), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid has-background-danger\",\n      style: {\n        paddingBottom: \"2em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rounded needs-margin-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \" has-text-centered  is-size-1  has-text-black has-text-left  is-padded-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, this.state.trip.title))), /*#__PURE__*/React.createElement(DetailStoerer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds has-text-justified\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-three-quarters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ReactMarkdown, {\n      source: longMarkdown,\n      escapeHtml: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, tripPic)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, this.state.loading ? null : /*#__PURE__*/React.createElement(DetailServices, {\n      services: this.state.trip.services,\n      priceAdult: this.state.trip.priceAdult,\n      priceRed: this.state.trip.priceReduced,\n      all: this.state.trip,\n      tripId: this.state.trip_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 50\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"is-size-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 35\n      }\n    }, \"Ihr Reiseablauf\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns is-multiline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, itinerary))));\n  }\n\n}\n\nexport default withRouter(TripsDetail);","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/TripsDetail.js"],"names":["React","useParams","Strapi","withRouter","DetailHeroCarousel","DetailStoerer","DetailServices","ItineraryCard","Markdown","ReactMarkdown","apiUrl","strapi","TripsDetail","Component","constructor","props","state","trip","loading","trip_id","componentDidMount","fetch","match","params","tripId","then","response","json","console","log","setState","error","handleClose","event","document","getElementById","target","id","classList","toggle","render","longMarkdown","long_description","itinerary","map","day","title","description","itineraryPics","heroPic","pics","pic","url","tripPic","heroSlider","paddingBottom","services","priceAdult","priceReduced"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript/build/main\"\nimport {withRouter} from \"react-router\"\nimport DetailHeroCarousel from \"./DetailCompononents/DetailHeroCarousel\"\nimport DetailStoerer from \"./DetailCompononents/DetailStoerer\"\nimport DetailServices from \"./DetailCompononents/DetailServices\"\nimport ItineraryCard from \"./DetailCompononents/ItineraryCard\"\nimport {Markdown} from\"react-showdown\"\nimport ReactMarkdown from \"react-markdown\"\n\n    const apiUrl= 'https://strapi.luis-backt-und-kocht.de';\n    //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n    const strapi = new Strapi(apiUrl)\n  \nclass TripsDetail extends React.Component {\n        constructor(props) {\n            super(props)\n            this.state= {\n            trip:[],\n            loading: true,\n            trip_id: \"\"\n            }\n        }\n    \n       async componentDidMount(props) {\n    try{\n        /*const response = await strapi.request('POST', '/graphql', {\n          data: {\n            query: `query { trip (id: \"${this.props.match.params.tripId}\") {\n                title\n                id\n  trip_dates {\n    id\n    departure\n    return\n  }\n  short_description\n  long_description\n  pics {\n    url\n  }\n  priceAdult\n  priceReduced\n  itinerary {\n      title\n      description\n      id\n      \n  }\n  services {\n      serviceName\n      id\n  }\n  LangesTExtfeld\n}}`\n          }\n\n        });*/\n        //console.log(\"responseDdtail\",response.data.trip.pics[0])\n        const response = await fetch(`https://strapi.luis-backt-und-kocht.de/trips/${this.props.match.params.tripId}`)\n       .then ((response) => response.json())\n        console.log(\"TripDEtail\", response)\n        this.setState({ \n          trip: response,\n          loading: false,\n        trip_id: this.props.match.params.tripId})\n    } catch(err) {\n      console.error(err) };\n    }\n  \n    handleClose(event) {\n    \n      document.getElementById(event.target.id).classList.toggle(\"is-active\")\n    }\n\n    render() {\n        \n        var longMarkdown = this.state.trip.long_description;\n       // this.state.loading ? console.log(\"DetailState loading\") : console.log(\"DetailState\", this.state.trip)\n\n        var itinerary = this.state.loading ? null : this.state.trip.itinerary.map(day => (\n            <ItineraryCard key={day.id} title={day.title} description={day.description} pics={day.itineraryPics}/>\n        ))\n        \n        var heroPic = this.state.loading ? null : this.state.trip.pics.map(pic => (\n        //    console.log(\"TripPic\", pic.url, ),\n            pic.url\n            ));\n        var tripPic = this.state.loading ? null : this.state.trip.pics.map(pic => (\n        //  console.log(\"TripPic\", pic.url ),\n          <li>\n            <div class=\"modal is-clipped\" id={pic.id}>\n                      <div class=\"modal-background\"></div>\n                      <div class=\"modal-content\">\n                      <img src={`${apiUrl}${pic.url}`} />\n                      </div>\n                      <button class=\"modal-close is-large\" aria-label=\"close\" onClick={this.handleClose} id={pic.id}></button>\n                   </div>\n                   <img src={`${apiUrl}${pic.url}`} onClick={this.handleClose} id={pic.id} /> \n            </li>\n           ));\n      //  console.log(\"HEroPic\", heroPic)    \n        var heroSlider = this.state.loading ? \"Loading\" : <DetailHeroCarousel images={heroPic}/>\n        return ( \n            <div className=\"shadow\">\n        <div className=\"hero has-background-white is-small \"> \n        \n        <div className=\"hero-body\">\n        {heroSlider}\n        </div>\n        <div className=\"container is-fluid has-background-danger\" style={{paddingBottom:\"2em\"}}>\n        <div className=\"rounded needs-margin-bottom\">\n        <h1 className=\"\n\n                has-text-centered \n                is-size-1 \n                has-text-black\n               \n                has-text-left \n                is-padded-10\">\n                <strong>{this.state.trip.title}</strong></h1>\n           \n                \n                </div>\n        \n        \n\n           \n        <DetailStoerer />\n        <div className=\"columns\">\n            <div className=\"column is-two-thirds has-text-justified\">\n              <div className=\"columns\">\n                <div className=\"column is-three-quarters\">\n                <ReactMarkdown source={ longMarkdown } escapeHtml={ false } />\n                </div>\n                <div className=\"column\">\n                  <ul>\n                    {tripPic}\n                  </ul>\n                </div>\n                </div>\n\n                </div>\n            <div className=\"column is-one-thirds\">\n                    {this.state.loading ? null : <DetailServices services={this.state.trip.services} priceAdult={this.state.trip.priceAdult} priceRed={this.state.trip.priceReduced} all={this.state.trip} tripId={this.state.trip_id}/>}\n            </div>\n        </div>\n        <div  className=\"section\"><h1 className=\"is-size-3\">Ihr Reiseablauf</h1></div>\n        <div className=\"columns is-multiline\">\n       {itinerary}\n         \n    \n            </div>\n            </div>\n            </div>\n            </div>\n            )  \n    }\n            \n}\n\nexport default withRouter(TripsDetail)"]},"metadata":{},"sourceType":"module"}