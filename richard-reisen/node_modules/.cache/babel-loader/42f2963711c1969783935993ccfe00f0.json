{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingOverview.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport AccountAdress from \"../account/AccountAdress\";\n\nclass BookingOverview extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _this.setState({\n              token: Cookie.get('jwt')\n            });\n\n          case 2:\n            if (_this.state.token !== null) {\n              // authenticate the token on the server and place set user object\n              fetch('https://strapi.luis-backt-und-kocht.de/users/me', {\n                headers: {\n                  Authorization: \"Bearer \".concat(_this.state.token)\n                }\n              }).then( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n                  var userData;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return res.json();\n\n                      case 2:\n                        userData = _context.sent;\n                        console.log(\"ANtwor for MEE\", userData);\n                        _context.next = 6;\n                        return _this.setState({\n                          user: userData\n                        });\n\n                      case 6:\n                        console.log(\"USERDATASTATE\", _this.state);\n\n                        _this.setState({\n                          loading: false\n                        });\n\n                      case 8:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }());\n            }\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n\n  render() {\n    console.log(\"BookingOverViewProps\", this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \"Ihre Buchungs\\xFCbersicht\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }, this.state.loading ? \"\" : /*#__PURE__*/React.createElement(AccountAdress, {\n      data: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 56\n      }\n    }))))));\n  }\n\n}\n\nexport default BookingOverview;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/booking/BookingOverview.js"],"names":["React","axios","Cookie","AccountAdress","BookingOverview","Component","constructor","state","user","loading","componentDidMount","setState","token","get","fetch","headers","Authorization","then","res","json","userData","console","log","render","props","marginTop"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;;AAEA,MAAMC,eAAN,SAA8BJ,KAAK,CAACK,SAApC,CAA8C;AAC1CC,EAAAA,WAAW,GAAG;AACV;AAEA,SAAKC,KAAL,GAAa;AACLC,MAAAA,IAAI,EAAE,IADD;AAELC,MAAAA,OAAO,EAAE;AAFJ,KAAb;AAIH;;AAEKC,EAAAA,iBAAN,GAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAChB,KAAI,CAACC,QAAL,CAAc;AAChBC,cAAAA,KAAK,EAAEV,MAAM,CAACW,GAAP,CAAW,KAAX;AADS,aAAd,CADgB;;AAAA;AAItB,gBAAI,KAAI,CAACN,KAAL,CAAWK,KAAX,KAAqB,IAAzB,EAA+B;AAC3B;AACAE,cAAAA,KAAK,CAAC,iDAAD,EAAoD;AACvDC,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAY,KAAI,CAACT,KAAL,CAAWK,KAAvB;AADN;AAD8C,eAApD,CAAL,CAIGK,IAJH;AAAA,oFAIQ,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACmBA,GAAG,CAACC,IAAJ,EADnB;;AAAA;AACEC,wBAAAA,QADF;AAEJC,wBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,QAA9B;AAFI;AAAA,+BAGE,KAAI,CAACT,QAAL,CAAc;AAChBH,0BAAAA,IAAI,EAAEY;AADU,yBAAd,CAHF;;AAAA;AAOJC,wBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAI,CAACf,KAAlC;;AAEA,wBAAA,KAAI,CAACI,QAAL,CAAc;AACVF,0BAAAA,OAAO,EAAC;AADE,yBAAd;;AATI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJR;;AAAA;AAAA;AAAA;AAAA;AAiBL;;AAvBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAwB7B;;AAEGc,EAAAA,MAAM,GAAG;AAELF,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,KAAKE,KAAzC;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC;AAAX,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKlB,KAAL,CAAWE,OAAX,GAAqB,EAArB,gBAA0B,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAE,KAAKF,KAAL,CAAWC,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD3B,CADJ,CADJ,CAFJ,CADJ,CADJ;AAcH;;AArDyC;;AAwD9C,eAAeJ,eAAf","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\"\nimport AccountAdress from \"../account/AccountAdress\"\n\nclass BookingOverview extends React.Component {\n    constructor() {\n        super()\n\n        this.state = {\n                user: null,\n                loading: true\n        }\n    }\n\n    async componentDidMount() {\n        await this.setState({\n            token: Cookie.get('jwt') \n        })\n        if (this.state.token !== null) {\n            // authenticate the token on the server and place set user object\n            fetch('https://strapi.luis-backt-und-kocht.de/users/me', {\n              headers: {\n                Authorization: `Bearer ${this.state.token}`,\n              },\n            }).then(async (res) => {\n                const userData = await res.json()\n                console.log(\"ANtwor for MEE\", userData)\n                await this.setState({\n                    user: userData,\n                    \n                })\n                console.log(\"USERDATASTATE\", this.state)\n                \n                this.setState({\n                    loading:false\n                })\n               \n    })}\n}\n\n    render() {\n        \n        console.log(\"BookingOverViewProps\", this.props)\n        return (\n            <div className=\"container\">\n                <div className=\"box\" style={{marginTop:\"1em\"}}>\n                    <div className=\"title\">Ihre Buchungs√ºbersicht</div>\n                    <div className=\"container\">\n                        <div className=\"columns\">\n                            <div className=\"column is-two-thirds\">\n                            {this.state.loading ? \"\" : <AccountAdress data={this.state.user} />}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BookingOverview"]},"metadata":{},"sourceType":"module"}