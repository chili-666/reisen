{"ast":null,"code":"var _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/pages/LastMinute.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nconst apiUrl = 'https://strapi.luis-backt-und-kocht.de'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl); //console.log(\"URL\", apiUrl)\n//console.log(\"strapi\", strapi+'/graphql'\n\nclass LastMinute extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      plz: 999999999\n    };\n    this.handleTest = this.handleTest.bind(this);\n  }\n\n  handleTest() {\n    console.log(\"CLick Update\", this.state.plz);\n    let token = Cookie.get('jwt');\n    console.log(\"CLICKToken\", token);\n    const config = {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    };\n    const user = {\n      \"Strasse\": \"TESTSTRASSE\",\n      \"plz\": this.state.plz\n    }; //Sign up User\n\n    axios.put('https://strapi.luis-backt-und-kocht.de/users/32', user, config).then(response => {\n      // Handle success.\n      console.log('Well done!');\n      console.log('User profile', response);\n      console.log('User token', response.data.jwt);\n    }).catch(error => {\n      // Handle error.\n      console.log('An error occurred:', error);\n    });\n  }\n\n  render() {\n    console.log(\"State before Click\", this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-primary\",\n      onClick: this.handleTest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"Testen\"));\n  }\n\n}\n\nexport default LastMinute;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/pages/LastMinute.js"],"names":["React","axios","Cookie","Strapi","apiUrl","strapi","LastMinute","Component","constructor","state","plz","handleTest","bind","console","log","token","get","config","headers","Authorization","user","put","then","response","data","jwt","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AAEA,MAAMC,MAAM,GAAE,wCAAd,C,CACA;;AACA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,CAAWC,MAAX,CAAf,C,CACA;AACA;;AAKA,MAAME,UAAN,SAAyBN,KAAK,CAACO,SAA/B,CAAyC;AAC7BC,EAAAA,WAAW,GAAG;AACV;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE;AADI,KAAb;AAGA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AACTD,EAAAA,UAAU,GAAG;AAEGE,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKL,KAAL,CAAWC,GAAvC;AACA,QAAIK,KAAK,GAAGb,MAAM,CAACc,GAAP,CAAW,KAAX,CAAZ;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,KAA1B;AACA,UAAME,MAAM,GAAI;AAACC,MAAAA,OAAO,EAAE;AAC1BC,QAAAA,aAAa,mBAAYJ,KAAZ;AADa;AAAV,KAAhB;AAIA,UAAMK,IAAI,GAAG;AACb,iBAAU,aADG;AAEb,aAAO,KAAKX,KAAL,CAAWC;AAFL,KAAb,CATH,CAaG;;AACAT,IAAAA,KAAK,CACJoB,GADD,CACK,iDADL,EACwDD,IADxD,EAC8DH,MAD9D,EAECK,IAFD,CAEMC,QAAQ,IAAI;AAClB;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BS,QAA5B;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BS,QAAQ,CAACC,IAAT,CAAcC,GAAxC;AACC,KAPD,EAQCC,KARD,CAQOC,KAAK,IAAI;AAChB;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCa,KAAlC;AACC,KAXD;AAYnB;;AACWC,EAAAA,MAAM,GAAG;AACLf,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,KAAKL,KAAvC;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,OAAO,EAAE,KAAKE,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ;AAKH;;AA3C4B;;AA8CzC,eAAeL,UAAf","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport Cookie from \"js-cookie\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\n\nconst apiUrl= 'https://strapi.luis-backt-und-kocht.de';\n//const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\nconst strapi = new Strapi(apiUrl);\n//console.log(\"URL\", apiUrl)\n//console.log(\"strapi\", strapi+'/graphql'\n\n\n\n\nclass LastMinute extends React.Component {\n            constructor() {\n                super()\n\n                this.state = {\n                    plz: 999999999\n                }\n                this.handleTest = this.handleTest.bind(this)\n            }\n    handleTest() {\n\n                    console.log(\"CLick Update\", this.state.plz)\n                    let token = Cookie.get('jwt')\n                    console.log(\"CLICKToken\", token)\n                    const config =  {headers: {\n                    Authorization: `Bearer ${token}`\n                    }}\n\n                    const user = {\n                    \"Strasse\":\"TESTSTRASSE\",\n                    \"plz\": this.state.plz\n                    }\n                    //Sign up User\n                    axios\n                    .put('https://strapi.luis-backt-und-kocht.de/users/32', user, config)\n                    .then(response => {\n                    // Handle success.\n                    console.log('Well done!');\n                    console.log('User profile', response);\n                    console.log('User token', response.data.jwt);\n                    })\n                    .catch(error => {\n                    // Handle error.\n                    console.log('An error occurred:', error);\n                    });\n}\n            render() {\n                console.log(\"State before Click\", this.state)\n                return (\n                    <div className=\"box\">\n                        <button className=\"button is-primary\" onClick={this.handleTest}>Testen</button>\n                    </div>\n                )\n            }\n}\n\nexport default LastMinute"]},"metadata":{},"sourceType":"module"}