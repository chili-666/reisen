{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/pages/Offers.js\";\nimport React from \"react\";\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nimport Standard from \"./layouts/Standard\";\nconst apiUrl = 'http://home.luis-backt-und-kocht.de:1337'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl);\n\nclass Offers extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      block: [],\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return strapi.request('POST', '/graphql', {\n              data: {\n                query: \"query {page (id: 1) {\\n                                    id\\n                                    pageName\\n                                    Block {\\n                                    Content\\n                                    contentTitle\\n                                    subtitle\\n                                    contentImages {\\n                                        url\\n                                    }\\n                                    }\\n                                }\\n                }\"\n              }\n            });\n\n          case 3:\n            response = _context.sent;\n            console.log(\"Antwort\", response.data.page.Block);\n\n            _this.setState({\n              block: response.data.page.Block,\n              //images: response.data.page.Block.contentImages.url\n              loading: false\n            });\n\n            console.log(\"offer\", _this.state);\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 12:\n            ;\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 9]]);\n    }))();\n  }\n\n  render() {\n    var pageContent = this.state.loading ? \"TEST\" : this.state.block.map((item, index) => /*#__PURE__*/React.createElement(\"h1\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, item.id, \" :: \", item.contentTitle) // console.log(\"Map\", item.contentTitle)\n    );\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    }, pageContent);\n  }\n\n}\n\nexport default Offers;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/pages/Offers.js"],"names":["React","Strapi","Standard","apiUrl","strapi","Offers","Component","constructor","state","block","loading","componentDidMount","request","data","query","response","console","log","page","Block","setState","error","render","pageContent","map","item","index","id","contentTitle"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEI,MAAMC,MAAM,GAAE,0CAAd,C,CACA;;AACA,MAAMC,MAAM,GAAG,IAAIH,MAAJ,CAAWE,MAAX,CAAf;;AAIJ,MAAME,MAAN,SAAqBL,KAAK,CAACM,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,OAAO,EAAE;AAFA,KAAb;AAIH;;AAEMC,EAAAA,iBAAN,GAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEAP,MAAM,CAACQ,OAAP,CAAe,MAAf,EAAuB,UAAvB,EAAmC;AACxDC,cAAAA,IAAI,EAAE;AACJC,gBAAAA,KAAK;AADD;AADkD,aAAnC,CAFA;;AAAA;AAEjBC,YAAAA,QAFiB;AAmB3BC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,QAAQ,CAACF,IAAT,CAAcK,IAAd,CAAmBC,KAA1C;;AACA,YAAA,KAAI,CAACC,QAAL,CAAc;AACRX,cAAAA,KAAK,EAAEM,QAAQ,CAACF,IAAT,CAAcK,IAAd,CAAmBC,KADlB;AAER;AACAT,cAAAA,OAAO,EAAC;AAHA,aAAd;;AAKMM,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAI,CAACT,KAA1B;AAzBqB;AAAA;;AAAA;AAAA;AAAA;AA2BzBQ,YAAAA,OAAO,CAACK,KAAR;;AA3ByB;AA2BL;;AA3BK;AAAA;AAAA;AAAA;AAAA;AAAA;AA4B1B;;AACJC,EAAAA,MAAM,GACH;AACA,QAAIC,WAAW,GAAG,KAAKf,KAAL,CAAWE,OAAX,GAAqB,MAArB,GAA8B,KAAKF,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,kBACjE;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBD,IAAI,CAACE,EAAtB,UAA8BF,IAAI,CAACG,YAAnC,CADiE,CAElE;AAF6C,KAAhD;AAKA,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAML,WAAN,CAAP;AACF;;AA9CmC;;AAiDrC,eAAelB,MAAf","sourcesContent":["import React from \"react\"\nimport Strapi from \"strapi-sdk-javascript/build/main\"\nimport Standard from \"./layouts/Standard\"\n\n    const apiUrl= 'http://home.luis-backt-und-kocht.de:1337';\n    //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n    const strapi = new Strapi(apiUrl)\n\n\n\nclass Offers extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            block: [],\n            loading: true\n        }\n    }\n\n     async componentDidMount() {\n    try{\n        const response = await strapi.request('POST', '/graphql', {\n          data: {\n            query:  `query {page (id: 1) {\n                                    id\n                                    pageName\n                                    Block {\n                                    Content\n                                    contentTitle\n                                    subtitle\n                                    contentImages {\n                                        url\n                                    }\n                                    }\n                                }\n                }`\n        }\n    });\n    console.log(\"Antwort\", response.data.page.Block)\n    this.setState({ \n          block: response.data.page.Block,\n          //images: response.data.page.Block.contentImages.url\n          loading:false\n          })\n          console.log(\"offer\", this.state)\n    } catch(err) {\n      console.error(err) };\n    }\n render()\n    {\n    var pageContent = this.state.loading ? \"TEST\" : this.state.block.map((item, index) =>(\n        <h1 key={index}>{item.id} :: {item.contentTitle}</h1>\n       // console.log(\"Map\", item.contentTitle)\n    ));\n    \n    return <div>{pageContent}</div>\n }\n}\n\nexport default Offers"]},"metadata":{},"sourceType":"module"}