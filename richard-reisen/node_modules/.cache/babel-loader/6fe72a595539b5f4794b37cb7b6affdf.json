{"ast":null,"code":"import _regeneratorRuntime from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/chili_666/projects/reisen/richard-reisen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/chili_666/projects/reisen/richard-reisen/src/components/cart/ShoppingCart.js\";\nimport React from \"react\";\nimport { FaBackspace } from \"react-icons/fa\";\nimport CartCustomer from \"./CartCustomer\";\nimport { setCart, getCart, getToken } from \"../utils\";\nimport { Link } from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript\";\nimport Cookie from \"js-cookie\";\nimport bulmaAccordion from \"bulma-extensions/bulma-accordion/dist/js/bulma-accordion.min.js\";\nimport { Markdown } from \"react-showdown\";\nconst apiUrl = 'https://strapi.luis-backt-und-kocht.de'; //const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\n\nconst strapi = new Strapi(apiUrl);\nvar accordions = bulmaAccordion.attach();\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      booking: false,\n      persist: false,\n      items: [],\n      token: \"\"\n    };\n    this.handleBooking = this.handleBooking.bind(this);\n  }\n\n  componentWillMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _this.setState({\n              loading: false,\n              items: getCart(),\n              token: Cookie.get('jwt')\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  handleBooking(event) {\n    this.setState({\n      booking: true\n    }); //console.log(\"Booking!\", this.state.booking)\n\n    document.getElementById(\"bookingButton\").style.display = \"none\";\n    document.getElementById(\"bookingAblauf\").style.display = \"block\";\n  }\n\n  handleService() {\n    console.log(\"Geklickt\");\n    document.getElementById(\"services\").classList.toggle(\"is-hidden\");\n    document.getElementById(\"serviceButton\").classList.toggle(\"is-hidden\");\n  }\n\n  handleItinerary(event) {\n    console.log(\"Itinerary\", event.target.id);\n    console.log(\"Toggle\", document.getElementsByClassName(event.target.id)[0]);\n    document.getElementsByClassName(event.target.id)[0].classList.toggle(\"is-hidden\");\n  }\n\n  render() {\n    console.log(\"ShoppingCART\", this.state);\n    {\n      this.state.loading ? console.log(\"Laden\") : // let tripId = this.state.trip.id\n      // localStorage.setItem(\"tripId\", \"test\")\n      console.log(\"LINK_PROPS\", this.state);\n      var totalAdult = Math.round(this.state.items.adults * this.state.items.trip.priceAdult * 100 / 100);\n      const _this$state$items = this.state.items,\n            kids = _this$state$items.kids,\n            adults = _this$state$items.adults;\n      const _this$state$items$tri = this.state.items.trip,\n            priceAdult = _this$state$items$tri.priceAdult,\n            priceReduced = _this$state$items$tri.priceReduced,\n            title = _this$state$items$tri.title;\n      var totalKids = kids * this.state.items.trip.priceReduced;\n      var grandTotal = totalKids + totalAdult;\n      const selectedTripDate = this.state.items.tripDate;\n      const dates = this.state.items.trip.trip_dates;\n      console.log(\"SelectedTripDate\", selectedTripDate);\n      console.log(\"Dates\", dates.length); //  console.log(\"Const Dates\", dates)\n\n      var bookedDate;\n\n      for (let i = 0; i < dates.length; i++) {\n        console.log(\"DATES_FOR\", dates[i].id, selectedTripDate); //bookedDate =  dates.find(element => element.id === selectedTripDate)\n\n        if (dates[i].id != selectedTripDate) {} else {\n          bookedDate = dates[i];\n        }\n      }\n\n      var abreise = new Date(bookedDate.departure);\n      var abreiseJahr = abreise.getFullYear();\n      var abreiseMonat = abreise.getMonth() + 1;\n      var abreiseTag = abreise.getDate();\n      var returnDatum = new Date(bookedDate.return);\n      var returnJahr = returnDatum.getFullYear();\n      var returnMonat = returnDatum.getMonth() + 1;\n      var returnTag = returnDatum.getDate();\n      var tax = grandTotal / 100 * 16;\n      var tripPics = this.state.items.trip.pics.map(pic => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(apiUrl).concat(pic.url),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      })));\n    }\n    let descMarkDown;\n    const accordionItinerary = this.state.items.trip.itinerary.map(day => (console.log(\"ItitneraryTAG\", day), descMarkDown = day.description, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"container is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"has-background-white-ter has-text-black is-small is-fullwidth\",\n      style: {\n        border: \"none\",\n        width: \"100%\"\n      },\n      id: day.id,\n      onClick: this.handleItinerary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      value: day.id,\n      id: day.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, day.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerhas-background-white is-hidden \".concat(day.id),\n      style: {\n        border: \"1px\",\n        marginBottom: \"3px\"\n      },\n      id: day.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Markdown, {\n      markup: descMarkDown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    })))))); //   console.log(\"Finden\", dates.find(element => element.id === selectedTripDate))\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid has-text-centered\",\n      style: {\n        marginTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, \"25% gebucht\", /*#__PURE__*/React.createElement(\"progress\", {\n      className: \"progress is-primary is-small\",\n      value: \"25\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, \"25%\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-one-third\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container is-fluid\",\n      style: {\n        marginTop: \"3em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, \"Ihre Reisebuchung\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-halfwidth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-fullwidth is-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Reise\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"Abreise\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"R\\xFCckreise\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.tripName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, abreiseTag, \".\", abreiseMonat, \".\", abreiseJahr), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, returnTag, \".\", returnMonat, \".\", returnJahr)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-two-thirds\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, \"Ihre Reise:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 47\n      }\n    }), this.state.items.trip.short_description, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-fullwidth is-white-ter is-small is-outlined is-rounded\",\n      id: \"serviceButton\",\n      onClick: this.handleService,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 33\n      }\n    }, \"Inklusivleistungen\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-hidden\",\n      id: \"services\",\n      onClick: this.handleService,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"is-size-7 has-text-grey\",\n      style: {\n        marginBottom: \"2em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-white-ter is-rounded is-small \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    }, \"x\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 119\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 124\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"is-size-7 has-text-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 41\n      }\n    }, \"Leistung 1\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    }, \"Leistung 1\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 41\n      }\n    }, \"Leistung 1\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }), \"Reiseablauf:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"accordions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }, accordionItinerary)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 29\n      }\n    }, tripPics))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box is-hidden-mobile\",\n      id: \"bookingAblauf\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"has-text-weight-semibold is-family-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 32\n      }\n    }, \"Buchungsablauf\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 36\n      }\n    }, \"Melden Sie sich an oder legen Sie ein neues Kundenkonto an.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 37\n      }\n    }, \"Geben Sie die Daten Ihrer Mitreisenden an und pr\\xFCfen Sie Ihre eigenen Daten\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }, \"W\\xE4hlen Sie Ihre gew\\xFCnschte Zahlungsart\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 37\n      }\n    }, \"Im Anschluss an die Bestellung erhalten Sie eine Bestellbest\\xE4tigung per Email\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 37\n      }\n    }, \"Etwas sp\\xE4ter erhalten Sie Ihre Reiseunterlagen ebenfalls per Email\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column is-halfwidth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-fullwidth is-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, \"Reisende\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"Preis pro Person\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, \"Gesamt\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, this.state.items.adults, \" Erwachsene(r)\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.priceAdult, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, totalAdult, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaBackspace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }))), this.state.items.kids > 0 && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 55\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, this.state.items.kids, \" Kinder \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, this.state.items.trip.priceReduced, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, totalKids, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaBackspace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table is-striped is-narrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }, \"Ihr Reisepreis\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 33\n      }\n    }, grandTotal, \" \\u20AC\")), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"is-size-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 37\n      }\n    }, \"inkl. der gesetzl. MwSt.\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 37\n      }\n    }, tax.toFixed(2), \" \\u20AC\"))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 27\n      }\n    }), this.state.token ? /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/meine-buchung\",\n        state: {\n          booking: this.state\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-primary mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 98\n      }\n    }, \"Buchen\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleBooking,\n      className: \"button is-primary mb-4\",\n      id: \"bookingButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 27\n      }\n    }, \"Jetzt buchen\"), /*#__PURE__*/React.createElement(CartCustomer, {\n      className: \"has-background-black\",\n      show: this.state.booking,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 27\n      }\n    })))))));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/chili_666/projects/reisen/richard-reisen/src/components/cart/ShoppingCart.js"],"names":["React","FaBackspace","CartCustomer","setCart","getCart","getToken","Link","Strapi","Cookie","bulmaAccordion","Markdown","apiUrl","strapi","accordions","attach","ShoppingCart","Component","constructor","state","loading","booking","persist","items","token","handleBooking","bind","componentWillMount","setState","get","event","document","getElementById","style","display","handleService","console","log","classList","toggle","handleItinerary","target","id","getElementsByClassName","render","totalAdult","Math","round","adults","trip","priceAdult","kids","priceReduced","title","totalKids","grandTotal","selectedTripDate","tripDate","dates","trip_dates","length","bookedDate","i","abreise","Date","departure","abreiseJahr","getFullYear","abreiseMonat","getMonth","abreiseTag","getDate","returnDatum","return","returnJahr","returnMonat","returnTag","tax","tripPics","pics","map","pic","url","descMarkDown","accordionItinerary","itinerary","day","description","border","width","marginBottom","marginTop","tripName","short_description","paddingTop","justifyContent","toFixed","pathname"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {FaBackspace} from \"react-icons/fa\"\nimport CartCustomer from\"./CartCustomer\"\nimport {setCart, getCart, getToken } from \"../utils\";\nimport {Link} from \"react-router-dom\";\nimport Strapi from \"strapi-sdk-javascript\";\nimport Cookie from \"js-cookie\";\nimport bulmaAccordion from \"bulma-extensions/bulma-accordion/dist/js/bulma-accordion.min.js\"\nimport {Markdown} from\"react-showdown\"\n\nconst apiUrl= 'https://strapi.luis-backt-und-kocht.de';\n//const apiUrl = `${process.env.REACT_APP_BACKEND_URL}`\nconst strapi = new Strapi(apiUrl)\nvar accordions = bulmaAccordion.attach();\n\nclass ShoppingCart extends React.Component {\n\n  constructor() {\n        super();\n        this.state = {\n            loading:false,\n            booking: false,\n            persist: false,\n            items: [],\n            token: \"\"\n        }\n        this.handleBooking = this.handleBooking.bind(this)\n    }\n\n   async componentWillMount() {\n        await this.setState({\n            loading:false,\n            items: getCart(),\n            token: Cookie.get('jwt')\n        })\n  \n    }\n\n   \n\n    handleBooking(event) {\n        this.setState({\n            booking: true\n            \n        })\n        //console.log(\"Booking!\", this.state.booking)\n        document.getElementById(\"bookingButton\").style.display =\"none\"\n        document.getElementById(\"bookingAblauf\").style.display =\"block\"\n\n    }\n\n    handleService() {\n        console.log(\"Geklickt\")\n        document.getElementById(\"services\").classList.toggle(\"is-hidden\")\n        document.getElementById(\"serviceButton\").classList.toggle(\"is-hidden\")\n    }\n\n    handleItinerary(event) {\n        console.log(\"Itinerary\", event.target.id)\n        console.log(\"Toggle\", document.getElementsByClassName(event.target.id)[0])\n        document.getElementsByClassName(event.target.id)[0].classList.toggle(\"is-hidden\")\n    }\n\n \n\n    render(){\n        \n        console.log(\"ShoppingCART\", this.state)\n        {this.state.loading ?\n        console.log(\"Laden\") : \n       // let tripId = this.state.trip.id\n       // localStorage.setItem(\"tripId\", \"test\")\n       console.log(\"LINK_PROPS\", this.state)\n        var totalAdult = Math.round((this.state.items.adults * this.state.items.trip.priceAdult*100)/100)\n        const {kids, adults} = this.state.items\n        const {priceAdult, priceReduced, title} = this.state.items.trip\n        var totalKids = kids * this.state.items.trip.priceReduced\n        var grandTotal = totalKids + totalAdult\n        const selectedTripDate = this.state.items.tripDate\n        const dates = this.state.items.trip.trip_dates\n       console.log(\"SelectedTripDate\", selectedTripDate)\n       console.log(\"Dates\", dates.length)\n      //  console.log(\"Const Dates\", dates)\n        var bookedDate;\n        for ( let i=0; i < dates.length; i++) {\n            console.log(\"DATES_FOR\", dates[i].id, selectedTripDate)\n            //bookedDate =  dates.find(element => element.id === selectedTripDate)\n            if (dates[i].id != selectedTripDate){\n                \n            } else {\n                bookedDate = dates[i]\n            }\n            \n        }\n        var abreise = new Date(bookedDate.departure)\n        var abreiseJahr = abreise.getFullYear()\n        var abreiseMonat = abreise.getMonth()+1\n        var abreiseTag = abreise.getDate()\n        var    returnDatum = new Date(bookedDate.return)\n        var    returnJahr = returnDatum.getFullYear()\n        var    returnMonat = returnDatum.getMonth()+1\n        var    returnTag = returnDatum.getDate()\n        var tax = grandTotal/100*16\n\n        var tripPics = this.state.items.trip.pics.map(pic => (\n            <div>\n            <img src={`${apiUrl}${pic.url}`} />\n            </div>\n        ))\n    }\n        let descMarkDown\n        const accordionItinerary = this.state.items.trip.itinerary.map(day => (\n            console.log(\"ItitneraryTAG\", day),\n            descMarkDown = day.description,\n            <article className=\"container is-size-7\">\n                        <button className=\"has-background-white-ter has-text-black is-small is-fullwidth\" style={{border:\"none\", width:\"100%\"}} id={day.id} onClick={this.handleItinerary}>\n                        <p value={day.id} id={day.id}>{day.title}</p>\n                        </button>\n                        <div className={`containerhas-background-white is-hidden ${day.id}`} style={{border:\"1px\", marginBottom:\"3px\"}} id={day.id}>\n                        <div className=\"content\">\n                            <Markdown markup={descMarkDown} />\n                        </div>\n                        </div>\n            </article>\n        ))\n\n     //   console.log(\"Finden\", dates.find(element => element.id === selectedTripDate))\n        return (\n           \n            <div className=\"container is-fluid\">\n               \n                <div className=\"box\" style={{marginTop:\"1em\"}}>\n                    <div className=\"container is-fluid has-text-centered\" style={{marginTop:\"1em\"}}>\n                        <div className=\"columns\">\n                            <div className=\"column is-one-third\"></div>\n                            <div className=\"column is-one-third\">\n                                25% gebucht\n                    <progress className=\"progress is-primary is-small\" value=\"25\" max=\"100\">25%</progress>\n                    </div>\n                    <div className=\"column is-one-third\"></div>\n                    </div>\n                    </div>\n                <div className=\"container is-fluid\" style={{marginTop:\"3em\"}}>\n                <div className=\"title\">\n                Ihre Reisebuchung\n                </div>\n                  <div className=\"columns\">\n                    <div className=\"column is-halfwidth\">\n                        <table className=\"table is-fullwidth is-striped\">\n                        <thead>\n                        <tr>\n                        <th>Reise</th>\n                        <th>Abreise</th>\n                        <th>Rückreise</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr>\n                        <td>{this.state.items.trip.tripName}</td>\n                        <td>{abreiseTag}.{abreiseMonat}.{abreiseJahr}</td>\n                        <td>{returnTag}.{returnMonat}.{returnJahr}</td>\n                        </tr>\n                        </tbody>\n                        </table>\n                        <div className=\"box\">\n                        <div className=\"columns\">\n                            <div className=\"column is-two-thirds\">\n                            <b>Ihre Reise:</b><br />\n                                {this.state.items.trip.short_description}\n                                <br />\n                                <button className=\"button is-fullwidth is-white-ter is-small is-outlined is-rounded\" id=\"serviceButton\" onClick={this.handleService}>Inklusivleistungen</button>\n                                <div className=\"box is-hidden\" id=\"services\" onClick={this.handleService}>\n                                    <span className=\"is-size-7 has-text-grey\" style={{marginBottom:\"2em\"}}>\n                                        <button className=\"button is-white-ter is-rounded is-small \">x</button></span><br/><br/>\n                                    <ul className=\"is-size-7 has-text-grey\">\n                                        <li>Leistung 1</li>\n                                        <li>Leistung 1</li>\n                                        <li>Leistung 1</li>\n                                    </ul>\n                                </div>\n                                <br />\n                                Reiseablauf:\n                                <br />\n                                <section className=\"accordions\">\n                                  {accordionItinerary}\n                                </section>\n                            </div>\n                            <div className=\"column\">\n                                {tripPics}\n                            </div>\n                        </div>\n                        </div>\n                        <div style={{paddingTop:\"1em\"}}>\n                            <div className=\"box is-hidden-mobile\" id=\"bookingAblauf\" style={{display:\"none\"}}>\n                               <h3 className=\"has-text-weight-semibold is-family-secondary\">Buchungsablauf</h3>\n                               <ul className=\"is-size-7\">\n                                   <li>Melden Sie sich an oder legen Sie ein neues Kundenkonto an.</li>\n                                    <li>Geben Sie die Daten Ihrer Mitreisenden an und prüfen Sie Ihre eigenen Daten</li>\n                                    <li>Wählen Sie Ihre gewünschte Zahlungsart</li>\n                                    <li>Im Anschluss an die Bestellung erhalten Sie eine Bestellbestätigung per Email</li>\n                                    <li>Etwas später erhalten Sie Ihre Reiseunterlagen ebenfalls per Email</li> \n                                </ul>\n                            </div>\n                        </div>\n                </div>\n                <div className=\"column is-halfwidth\">\n                <table className=\"table is-fullwidth is-striped\">\n                    <thead>\n                    <tr>\n                    <th>Reisende</th>\n                    <th>Preis pro Person</th>\n                    <th>Gesamt</th>\n                    <th></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        <tr>    \n                        <td>{this.state.items.adults} Erwachsene(r)</td>\n                        <td>{this.state.items.trip.priceAdult} €</td>\n                        <td>{totalAdult} €</td>\n                        <td><FaBackspace /></td>\n                        </tr>\n                        {this.state.items.kids > 0 && <tr >    \n        <td>{this.state.items.kids} Kinder </td>\n                        <td>{this.state.items.trip.priceReduced} €</td>\n                        <td>{totalKids} €</td>\n                        <td><FaBackspace /></td>\n                        </tr>\n    }\n                    </tbody>\n                </table>\n              \n                  \n                            <div style={{display:\"flex\", justifyContent:\"flex-end\"}}>\n                            <table className=\"table is-striped is-narrow\">\n                            <thead>\n                            <tr>\n                            <th></th>\n                            <th>Ihr Reisepreis</th>\n                            </tr>\n                            </thead>\n                                <tbody>\n                                <tr>\n                                <td></td>\n                                <td>{grandTotal} €</td>\n                                </tr>\n                                <tr className=\"is-size-7\">\n                                    <td>inkl. der gesetzl. MwSt.</td>\n                                    <td>{tax.toFixed(2)} €</td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        \n                            \n                          </div>\n                          <br />\n                          {this.state.token ?\n                          <Link to={{ pathname: \"/meine-buchung\", state: {booking: this.state}}}><button className=\"button is-primary mb-4\">Buchen</button></Link>\n                          :\n                          <div>\n                          <button onClick={this.handleBooking} className=\"button is-primary mb-4\" id=\"bookingButton\">Jetzt buchen</button>\n                          <CartCustomer className=\"has-background-black\" show={this.state.booking}/>\n                          </div>\n                            }       \n                          </div>\n                          </div>\n                          \n                          \n                          \n                          \n                       </div>\n                       </div>  \n            </div>\n        )\n    }\n\n}\n\nexport default ShoppingCart"]},"metadata":{},"sourceType":"module"}